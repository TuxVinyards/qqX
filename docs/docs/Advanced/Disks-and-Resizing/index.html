<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Advanced/Disks-and-Resizing" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Disks, Resizing and Partition Management | qqX</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://TuxVinyards.github.io/qqX/img/qqX.social.card.jpeg"><meta data-rh="true" name="twitter:image" content="https://TuxVinyards.github.io/qqX/img/qqX.social.card.jpeg"><meta data-rh="true" property="og:url" content="https://TuxVinyards.github.io/qqX/docs/Advanced/Disks-and-Resizing"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="qqX -Virtual Machine Manager"><meta data-rh="true" name="keywords" content="qemu, quickemu, quickget, quickgui, virtual machine, fixes, workarounds, easy"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Disks, Resizing and Partition Management | qqX"><meta data-rh="true" name="description" content="How to easily manage Quickemu type qcow2 disks and disk partitions"><meta data-rh="true" property="og:description" content="How to easily manage Quickemu type qcow2 disks and disk partitions"><link data-rh="true" rel="icon" href="/qqX/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://TuxVinyards.github.io/qqX/docs/Advanced/Disks-and-Resizing"><link data-rh="true" rel="alternate" href="https://TuxVinyards.github.io/qqX/docs/Advanced/Disks-and-Resizing" hreflang="en"><link data-rh="true" rel="alternate" href="https://TuxVinyards.github.io/qqX/docs/Advanced/Disks-and-Resizing" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Disks, Resizing and Partition Management","item":"https://TuxVinyards.github.io/qqX/docs/Advanced/Disks-and-Resizing"}]}</script><link rel="stylesheet" href="/qqX/assets/css/styles.c7f4a206.css">
<script src="/qqX/assets/js/runtime~main.0f28a42c.js" defer="defer"></script>
<script src="/qqX/assets/js/main.93f0f707.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/qqX/img/favicon.ico"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/qqX/"><div class="navbar__logo"><img src="/qqX/img/favicon.ico" alt="qqX Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/qqX/img/favicon.ico" alt="qqX Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">qqX Virtual Machine Manager</b></a><a class="navbar__item navbar__link" href="/qqX/docs/Installation">Docs</a><a class="navbar__item navbar__link" href="/qqX/docs/Guides/Windows-OS">Guides for Windows and Mac</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/qqX/docs/Advanced/Disks-and-Resizing">Advanced Docs</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://www.bing.com/translator" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Microsoft Translate<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://translate.google.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Google Translate<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://github.com/TuxVinyards/qqX" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Source Code and Downloads<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/qqX/docs/Advanced/Disks-and-Resizing">Disks, Resizing and Partition Management</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/qqX/docs/Advanced/Custom-Menus">Custom Menus</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/qqX/docs/Advanced/Custom-Qemu-boot-parameters">Custom-Qemu-boot-parameters</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/qqX/docs/Advanced/Custom-Machine-Types">Custom-Machine-Types</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/qqX/docs/Advanced/Development">Development</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/qqX/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Disks, Resizing and Partition Management</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Disks, Resizing and Partition Management</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ideally">Ideally<a href="#ideally" class="hash-link" aria-label="Direct link to Ideally" title="Direct link to Ideally">​</a></h2>
<p>the Virtual Machine should have been allocated a generous size from the outset. But things aren&#x27;t always that way ...</p>
<p><img decoding="async" loading="lazy" src="https://github.com/user-attachments/assets/3262f7be-ddcb-4b98-b44a-6e75ca82eab0" alt="qcow2-disk-utils-qf-1920" class="img_ev3q"></p>
<p>Select the VM in the normal way and open the Utils menu [u]</p>
<p>From the settings file:</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="shared-or-second-drives">SHARED or SECOND DRIVES<a href="#shared-or-second-drives" class="hash-link" aria-label="Direct link to SHARED or SECOND DRIVES" title="Direct link to SHARED or SECOND DRIVES">​</a></h2>
<ul>
<li>The Shared drive is a useful when in SDL mode &amp; available to all VMs while a Second drive is a quick way to expand
an individual VM&#x27;s storage. Use Gparted, &#x27;Disks&#x27; or similar, inside a VM, to set a file table, format and mount.</li>
</ul>
<p>Give SharedDrive <em>full</em> location here  eg. =&quot;$Default_VM_Folder/SharedDrive/shared.qcow2&quot;
SET SharedDrive_Conf as =&quot;no-shared&quot; IN THE .CONF FILE to individually stop the Shared Drive from loading
SharedDrive=&quot;&quot;</p>
<ul>
<li>
<p>For WINDOWS, the drive should be set as GPT &amp; formatted as NTFS.</p>
</li>
<li>
<p>Set up NTFS drives using a Linux OS and gparted but optimize (defrag) the disk using Windows</p>
</li>
<li>
<p>See resize notes for mounting workarounds</p>
</li>
<li>
<p>MAC OS older than and including 10.13 Mojave 2018 <em>might</em> need a flag IN THE .CONF FILE to stop possible drive conflicts.</p>
</li>
</ul>
<p>Quickemu code has the following note: &quot;VirtIO Block Media doesn&#x27;t work in High Sierra (at all) or the Mojave (Recovery Image)&quot;
Development tests with Mojave show both a Shared NTFS and a Second APFS to be working.
SET MacLegacyDrive as =&quot;true&quot; to load Second Drive (&amp; not Shared) as &#x27;ide-hd&#x27; instead of &#x27;virtio-blk-pci&#x27;
SharedDrive always loads as &#x27;virtio-blk-pci&#x27;   See <a href="https://en.wikipedia.org/wiki/MacOS_version_history" target="_blank" rel="noopener noreferrer">https://en.wikipedia.org/wiki/MacOS_version_history</a></p>
<ul>
<li>qqX adds SecondDrives to the .CONF FILE, eg as =&quot;Windows-11/storage.qcow2&quot;</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="access">ACCESS<a href="#access" class="hash-link" aria-label="Direct link to ACCESS" title="Direct link to ACCESS">​</a></h2>
<p>qqX version 1.11 adds the ability to mount and view qcow2 drives within the host&#x27;s file manager</p>
<p>If your drives only have <code>root</code> access, the following commands can help give general user permissions:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo chown $USER:$USER &quot;mounted-drive-name&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chmod 775 &quot;mounted-drive-name&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<p>Gnome Disks has a neat &#x27;take ownership&#x27; option:</p>
<p><img decoding="async" loading="lazy" src="https://github.com/user-attachments/assets/e81e6933-d5ff-48d4-9e1f-20f65407677e" alt="second-disk-take-ownership-1280" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="resizing">RESIZING<a href="#resizing" class="hash-link" aria-label="Direct link to RESIZING" title="Direct link to RESIZING">​</a></h2>
<p>Use the [disk] option to resize.</p>
<ul>
<li>Second drives should be followed up by adjustments using Gparted from inside the Linux VM.</li>
</ul>
<p>Gparted will auto-detect the change in envelope size and auto offer to &#x27;fix&#x27; things.  KDE partition manager may not do this and will need the partition deleting in order to reach the new envelope size. This software is not always installed and may need to be added.</p>
<ul>
<li>
<p>A workaround for KDE distros can be to copy the disks to a Gnome based distro VM folder, then mount them as Gnome second drives. Even a simple Live ISO is sufficient, as long as the .conf has the Drive added to it.</p>
</li>
<li>
<p>This workaround should function with main drives too, including Windows.</p>
</li>
<li>
<p>Or not. Sometimes only Windows will fix NTFS, even if Gparted has already done the main lifting. Windows has &#x27;Check and repair&#x27; plus &#x27;Defrag&#x27; and Trim functions that can fix things sometimes where others can&#x27;t.</p>
</li>
</ul>
<p><img decoding="async" loading="lazy" src="https://github.com/user-attachments/assets/4a338f4b-25d7-488e-9f69-10410012dcfb" alt="shared-ntfs-checked-defragged-windows" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="booting-from-isos">BOOTING from ISO&#x27;s<a href="#booting-from-isos" class="hash-link" aria-label="Direct link to BOOTING from ISO&#x27;s" title="Direct link to BOOTING from ISO&#x27;s">​</a></h3>
<ul>
<li>
<p>An in-menu ISO boot is now possible from version 1.9.03</p>
</li>
<li>
<p>And a space saving shared Boot ISO option is now possible from 1.11.05 onwards</p>
</li>
<li>
<p>See the [iso] utility from the main menu.</p>
</li>
</ul>
<p>By pressing the &#x27;esc&#x27; key during initial boot, you can access the Tiano boot manager and boot from any &#x27;live boot&#x27; ISO, such as the one from <a href="https://gparted.org/download.php" target="_blank" rel="noopener noreferrer">https://gparted.org/download.php</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="other-tools">Other Tools<a href="#other-tools" class="hash-link" aria-label="Direct link to Other Tools" title="Direct link to Other Tools">​</a></h3>
<p>Release 1.1.05 added an extra layer of qemu-img disk health checks to the disk info function.</p>
<p><img decoding="async" loading="lazy" src="https://github.com/TuxVinyards/qqX/assets/3956806/7edf972c-3c18-4f33-8096-2c1cbc5ba4f5" alt="disk error alert crop" class="img_ev3q"></p>
<p>Release 1.11.02 added a utility to mount qcow2 disks in the host filemanager</p>
<p><img decoding="async" loading="lazy" src="https://github.com/user-attachments/assets/91cc82cd-1d89-4824-a7be-b9466bef7a81" alt="qqX-qcow2-mount-in-filemanager" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="transferring-virtual-machines">Transferring virtual machines<a href="#transferring-virtual-machines" class="hash-link" aria-label="Direct link to Transferring virtual machines" title="Direct link to Transferring virtual machines">​</a></h3>
<p>A method of converting VMs from or to lib-virt based environments, such as Gnome Boxes or Virt-Manager, is still a work in progress which is hoped to be resolved.</p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--next" href="/qqX/docs/Advanced/Custom-Menus"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Custom Menus</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#ideally" class="table-of-contents__link toc-highlight">Ideally</a></li><li><a href="#shared-or-second-drives" class="table-of-contents__link toc-highlight">SHARED or SECOND DRIVES</a></li><li><a href="#access" class="table-of-contents__link toc-highlight">ACCESS</a></li><li><a href="#resizing" class="table-of-contents__link toc-highlight">RESIZING</a><ul><li><a href="#booting-from-isos" class="table-of-contents__link toc-highlight">BOOTING from ISO&#39;s</a></li><li><a href="#other-tools" class="table-of-contents__link toc-highlight">Other Tools</a></li><li><a href="#transferring-virtual-machines" class="table-of-contents__link toc-highlight">Transferring virtual machines</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Source Code and Downloads</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/TuxVinyards/qqX" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Alex Genovese</div></div></div></footer></div>
</body>
</html>