"use strict";(self.webpackChunkqq_x=self.webpackChunkqq_x||[]).push([[954],{4157:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>c,contentTitle:()=>r,default:()=>d,frontMatter:()=>o,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"Guides/Mac-OS","title":"Mac OS Machines","description":"Guest Installation","source":"@site/docs/Guides/Mac-OS.md","sourceDirName":"Guides","slug":"/Guides/Mac-OS","permalink":"/qqX/docs/Guides/Mac-OS","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"Mac OS Machines","desription":"Easy setup of MacOS virtual machines on Linux hosts"},"sidebar":"guidesSidebar","previous":{"title":"Windows Machines","permalink":"/qqX/docs/Guides/Windows-OS"}}');var a=t(4848),n=t(8453);const o={sidebar_position:3,title:"Mac OS Machines",desription:"Easy setup of MacOS virtual machines on Linux hosts"},r=void 0,c={},l=[{value:"Guest Installation",id:"guest-installation",level:2},{value:"MacOS Host",id:"macos-host",level:2},{value:"CPU",id:"cpu",level:2},{value:"Checking the capabilities",id:"checking-the-capabilities",level:3},{value:"Graphics",id:"graphics",level:2},{value:"GPU passthrough",id:"gpu-passthrough",level:3},{value:"QuickEmu notes",id:"quickemu-notes",level:3},{value:"RAM",id:"ram",level:3},{value:"Hackintosh",id:"hackintosh",level:2},{value:"Installation walk-through",id:"installation-walk-through",level:2},{value:"The following screenshots are from the early May Sonoma 14.5 release, the one without the problems",id:"the-following-screenshots-are-from-the-early-may-sonoma-145-release-the-one-without-the-problems",level:3},{value:"Stage 1",id:"stage-1",level:3},{value:"Stage 2",id:"stage-2",level:3},{value:"Stage 3",id:"stage-3",level:3},{value:"Stages 4 to 7",id:"stages-4-to-7",level:3},{value:"MacOS 15 Sequoia",id:"macos-15-sequoia",level:2},{value:"MacOS 16 Tahoe and beyond",id:"macos-16-tahoe-and-beyond",level:2},{value:"Trouble Shooting",id:"trouble-shooting",level:2},{value:"Terminal settings",id:"terminal-settings",level:3},{value:"Further reading",id:"further-reading",level:3},{value:"Apple Login and App Store",id:"apple-login-and-app-store",level:3}];function h(e){const s={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",strong:"strong",...(0,n.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.h2,{id:"guest-installation",children:"Guest Installation"}),"\n",(0,a.jsxs)(s.p,{children:["During 2024, using qqX's iMacPro 2017 (Skylake Xeon) virtual CPU formula, ",(0,a.jsxs)(s.strong,{children:["the latest Sonoma 14.5 ",(0,a.jsx)(s.a,{href:"https://developer.apple.com/documentation/macos-release-notes",children:"release"})," ran and still continues to run without problems."]})]}),"\n",(0,a.jsxs)(s.p,{children:["At the beginning of 2025, new Quickget updates allowed direct installation of 15.3 Sequoia. However, since then and since the release of 15.4 there have been issues which now, @ 06/2025, make this a non-recommended installation. See ",(0,a.jsx)(s.a,{href:"https://github.com/TuxVinyards/qqX/issues/9",children:"https://github.com/TuxVinyards/qqX/issues/9"})]}),"\n",(0,a.jsx)(s.p,{children:"Installation routines are not completely perfect and tests show a repeat download/setup to be needed on occasion to get the Sonoma boot to work, but it does function ..."}),"\n",(0,a.jsxs)(s.p,{children:["See the ",(0,a.jsxs)(s.a,{href:"#installation-walk-through",children:[(0,a.jsx)(s.em,{children:"full"})," walk-thru"]})]}),"\n",(0,a.jsxs)(s.p,{children:["Ventura, Sonoma and Sequoia are all supported by ",(0,a.jsx)(s.a,{href:"https://brew.sh",children:"Homebrew"})," for added extras such as the latest version of Bash and Qemu."]}),"\n",(0,a.jsx)(s.p,{children:"You should expect a few restarts and to re-initialize the Mac installer a couple of times but long hangs shouldn't now happen."}),"\n",(0,a.jsxs)(s.p,{children:["Backup copy the ",(0,a.jsx)(s.em,{children:"whole"})," OS folder before starting as recovery images and other components will get changed during the process."]}),"\n",(0,a.jsx)(s.p,{children:"When installed, qqX will security update your Tiano/OVMF files on a regular basis."}),"\n",(0,a.jsxs)(s.p,{children:[(0,a.jsx)(s.a,{href:"#trouble-shooting",children:"Trouble Shooting"})," notes are at the end of the page."]}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"https://github.com/TuxVinyards/qqX/assets/3956806/6a8656e8-0a70-4fc1-9444-41fcf7eca2c7",alt:"sonoma-display2"})}),"\n",(0,a.jsx)(s.h2,{id:"macos-host",children:"MacOS Host"}),"\n",(0,a.jsx)(s.p,{children:"The 4.9.5 quickemu code has been developed with MacOS host in mind. Decisions were made to use Haswell or 'host' pass-through. At the time of writing, this is still work in progress which may change."}),"\n",(0,a.jsx)(s.p,{children:"Running qqX on a MacOS host may be possible in the future. There are on-going developments with Quickemu running on Arm hosts."}),"\n",(0,a.jsx)(s.h2,{id:"cpu",children:"CPU"}),"\n",(0,a.jsxs)(s.p,{children:["qqX's built-in ",(0,a.jsx)(s.a,{href:"https://github.com/TuxVinyards/quickemu/commit/174232ceb244dd883b27b811a4893bd1fe4cb777",children:"code"})," will default to the iMac Pro 2017 Skylake Xeon Virtual CPU.  This is ",(0,a.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/IMac_Pro#Technical_specifications",children:"the only baseline CPU"})," that exists in the Qemu virtual CPU options that is officially supported by Apple across the available versions."]}),"\n",(0,a.jsxs)(s.p,{children:["The official QuickEmu runtime remains ",(0,a.jsx)(s.a,{href:"../FreeBird#builtins",children:"selectable"})," for testing but the newer qqX one is recommended, particularly on Intel where it can be up to 7 times faster ..."]}),"\n",(0,a.jsxs)(s.p,{children:["See ",(0,a.jsx)(s.a,{href:"https://github.com/quickemu-project/quickemu/issues/1114#issuecomment-2129370687",children:"https://github.com/quickemu-project/quickemu/issues/1114#issuecomment-2129370687"})," and ",(0,a.jsx)(s.a,{href:"https://github.com/TuxVinyards/quickemu/commit/174232ceb244dd883b27b811a4893bd1fe4cb777",children:"code"})]}),"\n",(0,a.jsxs)(s.p,{children:["Tests are currently showing the Skylake version to be more consistent. VM's should be run using ",(0,a.jsx)(s.code,{children:"cpu_cores=8 =16 or =32"})," in the .conf file, where cpu_cores is a value based on the number of CPU threads available, eg 4 physical cores x 2 threads per core = 8.  The more oddball Xeon values, such as 28, will not boot."]}),"\n",(0,a.jsxs)(s.p,{children:["Theoretically, Cascade Lake ",(0,a.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Mac_Pro#Specifications_3",children:"Mac Pro 2019"})," can also be used and development work has ",(0,a.jsx)(s.a,{href:"https://github.com/quickemu-project/quickemu/issues/1273#issuecomment-2182857762",children:"now"})," taken place. There is very little difference between the two, despite the newer date. Advanced users may like to custom tweak qqX's builtins to use Cascade, if interested. See the notes towards the end of the settings file."]}),"\n",(0,a.jsx)(s.h3,{id:"checking-the-capabilities",children:"Checking the capabilities"}),"\n",(0,a.jsxs)(s.p,{children:["On the Mac VM, open a terminal, type ",(0,a.jsx)(s.code,{children:"bash"})," and ",(0,a.jsx)(s.code,{children:"enter"})," to switch to bash, type directly or open this wiki in Safari and use copy/paste:"]}),"\n",(0,a.jsx)(s.p,{children:"Speed comparison:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:'time for i in {1..10000} ; do  bc <<< "scale=10; $i*22/7" ; done\n'})}),"\n",(0,a.jsx)(s.p,{children:"Host CPU:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"lscpu | grep -i flags | cut -d ':' -f 2- | tr ' ' '\\n' | sort | cat -s | column\n"})}),"\n",(0,a.jsx)(s.p,{children:"Guest (VM) CPU:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"sysctl -a | grep machdep.cpu | grep features | tr ' ' '\\n' | grep -v features | sort | column\n"})}),"\n",(0,a.jsx)(s.h2,{id:"graphics",children:"Graphics"}),"\n",(0,a.jsx)(s.p,{children:"Improvements with Quickemu have been translated to qqX and the display is now much better."}),"\n",(0,a.jsx)(s.p,{children:"Settings > displays > advanced > show resolutions list > show all"}),"\n",(0,a.jsx)(s.p,{children:"Mac seems to be able to use 1280 and then take control of the outcome itself, once set up. Avoid selecting 'high res' or only part screens will display. Sequoia sizes need to be specified in the conf file:"}),"\n",(0,a.jsxs)(s.p,{children:["The June 17 2024 adjustments allow for sizes to be added to the .conf file. A line ",(0,a.jsx)(s.code,{children:'MacScreenRes="XxY"'})," may be used. Standard Stock sizes: 2560x1440  1920x1080  1280x720; Default is 1280x720."]}),"\n",(0,a.jsx)(s.p,{children:"The MacOS reportage of very little memory usage may be ignored. An allocation of 256MB is made in the latest Quickemu code."}),"\n",(0,a.jsx)(s.p,{children:"Dynamic wallpapers may not be available."}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"https://github.com/TuxVinyards/qqX/assets/3956806/a155cb95-6196-49bf-b8c9-602e68a4a623",alt:"seq-screen-res"})}),"\n",(0,a.jsx)(s.h3,{id:"gpu-passthrough",children:"GPU passthrough"}),"\n",(0,a.jsxs)(s.p,{children:["If you have a separate graphics card, passthrough is technically possible and theoretically should improve performance. The methods are fairly standard but commands vary greatly from machine to machine. Advanced users only. ",(0,a.jsx)(s.a,{href:"https://wiki.gentoo.org/wiki/QEMU/Options",children:"Recommended guide."})," Custom qqX ",(0,a.jsx)(s.a,{href:"../Advanced/Custom-Qemu-boot-parameters",children:"boot sequences"})," are probably required too."]}),"\n",(0,a.jsx)(s.h3,{id:"quickemu-notes",children:"QuickEmu notes"}),"\n",(0,a.jsxs)(s.p,{children:["See ",(0,a.jsx)(s.a,{href:"https://github.com/quickemu-project/quickemu/wiki/03-Create-macOS-virtual-machines",children:"https://github.com/quickemu-project/quickemu/wiki/03-Create-macOS-virtual-machines"})," in particular the notes on enabling ",(0,a.jsx)(s.code,{children:"trim"})," in order to keep down the hard drive size."]}),"\n",(0,a.jsx)(s.h3,{id:"ram",children:"RAM"}),"\n",(0,a.jsx)(s.p,{children:"Ideally MacOS should have 8G plus and Quickemu will complain if it is not there.  However, it will run on less and specifying this in the .conf file will sort this out. Run the qqX 'tune-up wizard' or use the qqX .conf editor ..."}),"\n",(0,a.jsx)(s.h2,{id:"hackintosh",children:"Hackintosh"}),"\n",(0,a.jsx)(s.p,{children:"Differently to Microsoft who even supply setups for developers to test and run as VM's, Apple don't make it easy for anyone setting up a 'Hackintosh' whether virtual or otherwise."}),"\n",(0,a.jsx)(s.p,{children:"The whole running of MacOS is a bit of a legal grey area.  There's plenty of discussion on the web on the topic. The EULA says you shouldn't install MacOS on non-Apple hardware. But the EULA is not a legal document ..."}),"\n",(0,a.jsx)(s.p,{children:"Apple can see that you are running a virtual machine. But instead of being up-front about things, they seem to quietly leave obstacles that only developers can manage to circumvent as an attempt to promote general public hardware sales ...."}),"\n",(0,a.jsx)(s.h2,{id:"installation-walk-through",children:"Installation walk-through"}),"\n",(0,a.jsx)(s.h3,{id:"the-following-screenshots-are-from-the-early-may-sonoma-145-release-the-one-without-the-problems",children:"The following screenshots are from the early May Sonoma 14.5 release, the one without the problems"}),"\n",(0,a.jsx)(s.p,{children:"The procedure is much the same for Ventura."}),"\n",(0,a.jsx)(s.h3,{id:"stage-1",children:"Stage 1"}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"https://github.com/TuxVinyards/qqX/assets/3956806/34c20f99-f20e-462c-8699-131abd58fd0b",alt:"stage1"})}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"https://github.com/TuxVinyards/qqX/assets/3956806/96179815-f333-4103-9060-e2951e8cccfd",alt:"stage1b"})}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"https://github.com/TuxVinyards/qqX/assets/3956806/a131706b-b608-4649-bc26-a3b65fdb9aa2",alt:"stage1c"})}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"https://github.com/TuxVinyards/qqX/assets/3956806/5d4162cc-1153-4c22-bb6a-192daa82a67e",alt:"stage1d"})}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"https://github.com/TuxVinyards/qqX/assets/3956806/79c7b8f9-b950-4b04-92a7-6d460a2a7c83",alt:"stage1e"})}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"https://github.com/TuxVinyards/qqX/assets/3956806/322fbaf0-80ce-45d1-a4b3-5cc28f4cb240",alt:"stage1f"})}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"https://github.com/TuxVinyards/qqX/assets/3956806/dc2e5aa1-55a0-4e3f-91bf-c11685e11cce",alt:"stage1g"})}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"https://github.com/TuxVinyards/qqX/assets/3956806/2c4ebc0d-edc7-40e7-8743-0eea2ee617b1",alt:"stage1h"})}),"\n",(0,a.jsx)(s.p,{children:"The initial 2hr32m time will quickly drop after only a couple of minutes to 33m and then after a couple of minutes more down to 12."}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"https://github.com/TuxVinyards/qqX/assets/3956806/cf84ca8b-5e16-481d-80dd-8fbc2dc8ba87",alt:"stage1i"})}),"\n",(0,a.jsx)(s.p,{children:"Times are from a typical mid-range 6 core series 11 Intel processor."}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"https://github.com/TuxVinyards/qqX/assets/3956806/0454c9ec-9446-4832-98b1-fcf03adcd892",alt:"stage1j"})}),"\n",(0,a.jsx)(s.h3,{id:"stage-2",children:"Stage 2"}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"https://github.com/TuxVinyards/qqX/assets/3956806/59aa2d0b-21c8-4f5f-a53b-399325684491",alt:"stage2"})}),"\n",(0,a.jsx)(s.p,{children:"Reboots will present this screen a couple of times.  Select the installer again."}),"\n",(0,a.jsx)(s.p,{children:"As previously, the '29mins' screen will reduce more quickly than reported."}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"https://github.com/TuxVinyards/qqX/assets/3956806/06adb7c3-2af4-47c2-8ada-0edee862c578",alt:"stage2b"})}),"\n",(0,a.jsx)(s.p,{children:"On the next occasion you should see the option for the new drive."}),"\n",(0,a.jsx)(s.h3,{id:"stage-3",children:"Stage 3"}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"https://github.com/TuxVinyards/qqX/assets/3956806/2493e5f2-0c6b-4b1a-a038-a130ee76629d",alt:"stage3"})}),"\n",(0,a.jsx)(s.p,{children:"Installation is nearing the end when the 'ramrod' screen appears."}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"https://github.com/TuxVinyards/qqX/assets/3956806/09e8952e-65f5-4a0e-a5f2-a2cdea5eea7d",alt:"stage3-ramrod"})}),"\n",(0,a.jsx)(s.h3,{id:"stages-4-to-7",children:"Stages 4 to 7"}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"https://github.com/TuxVinyards/qqX/assets/3956806/e844290a-cf15-4dde-a5d4-6284d0782ff5",alt:"stage4-main"})}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"https://github.com/TuxVinyards/qqX/assets/3956806/e5c6bb2a-89ad-4d46-a681-18c4e749940c",alt:"stage5"})}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"https://github.com/TuxVinyards/qqX/assets/3956806/4e8262f0-51aa-42f5-84a0-fa1b319548c9",alt:"stage5-setup-later"})}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"https://github.com/TuxVinyards/qqX/assets/3956806/c3f51734-40e0-4c74-8801-e06cf82bacb2",alt:"stage6-setup-display-advanced"})}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"https://github.com/TuxVinyards/qqX/assets/3956806/afb8814b-5e84-4a5e-a685-83f0f68cbf00",alt:"stage7-imac-pro"})}),"\n",(0,a.jsx)(s.h2,{id:"macos-15-sequoia",children:"MacOS 15 Sequoia"}),"\n",(0,a.jsx)(s.p,{children:"At the beginning of 2025, new Quickget updates allowed direct installation of 15.3 Sequoia. However, since then and since the release of 15.4 there have been issues which now, @ 06/2025, make this a non-recommended installation."}),"\n",(0,a.jsxs)(s.p,{children:["See ",(0,a.jsx)(s.a,{href:"https://github.com/TuxVinyards/qqX/issues/9",children:"https://github.com/TuxVinyards/qqX/issues/9"})]}),"\n",(0,a.jsx)(s.h2,{id:"macos-16-tahoe-and-beyond",children:"MacOS 16 Tahoe and beyond"}),"\n",(0,a.jsxs)(s.p,{children:["See this 07/2025 Hackaday article on ",(0,a.jsx)(s.a,{href:"https://hackaday.com/2025/07/08/the-end-of-the-hackintosh-is-upon-us/",children:"the end of the hackintosh era"})]}),"\n",(0,a.jsx)(s.h2,{id:"trouble-shooting",children:"Trouble Shooting"}),"\n",(0,a.jsx)(s.p,{children:"If you are only presented with DVD player type icons, this means that installer is not loading.  This can be due to the Qemu CPU configuration.  Different variations are included via the different qqX builtins. You can also export a builtin for use as 'Custom' and individually edit CPU setup as well. See the notes at the end of the qqX settings file."}),"\n",(0,a.jsx)(s.p,{children:"Multiple configuration tests have failed to boot the end of May Sonoma download installer ...  As initially recommended, install Ventura and then upgrade. Follow up with the qqX re-namer which will auto configure your settings."}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"https://github.com/TuxVinyards/qqX/assets/3956806/41f50f26-0054-4fa6-ab4f-e1dc2bd19392",alt:"mac-dvd-icon"})}),"\n",(0,a.jsx)(s.h3,{id:"terminal-settings",children:"Terminal settings"}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"https://github.com/TuxVinyards/qqX/assets/3956806/efad0545-ae67-4920-b2ca-16a96f471c58",alt:"sonoma-term-settings-at-top"})}),"\n",(0,a.jsx)(s.p,{children:"Controls for terminal fonts and appearance are on the top bar when the terminal is active."}),"\n",(0,a.jsx)(s.h3,{id:"further-reading",children:"Further reading"}),"\n",(0,a.jsxs)(s.p,{children:["Also see ",(0,a.jsx)(s.a,{href:"https://github.com/quickemu-project/quickemu/wiki/03-Create-macOS-virtual-machines",children:"https://github.com/quickemu-project/quickemu/wiki/03-Create-macOS-virtual-machines"})," in particular the notes on enabling ",(0,a.jsx)(s.code,{children:"trim"})," in order to keep down the hard drive size."]}),"\n",(0,a.jsx)(s.h3,{id:"apple-login-and-app-store",children:"Apple Login and App Store"}),"\n",(0,a.jsxs)(s.p,{children:["Like many other aspects of the MacOS ecosystem, things are not always straight forward. ",(0,a.jsx)(s.a,{href:"https://github.com/quickemu-project/quickemu/issues/1547",children:"Apple ID issues"})," have been noted after the introduction of Sequoia."]}),"\n",(0,a.jsxs)(s.p,{children:["The QuickEmu based utility ",(0,a.jsx)(s.a,{href:"https://github.com/quickemu-project/qe_mac_apid",children:"qe_mac_apid"})," may help."]}),"\n",(0,a.jsxs)(s.p,{children:["Also see the ",(0,a.jsx)(s.a,{href:"https://dortania.github.io/OpenCore-Post-Install/universal/update.html#updating-opencore",children:"hackintosh notes here"})," from where the foundation work of qe_mac_apid is derived."]})]})}function d(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},8453:(e,s,t)=>{t.d(s,{R:()=>o,x:()=>r});var i=t(6540);const a={},n=i.createContext(a);function o(e){const s=i.useContext(n);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function r(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),i.createElement(n.Provider,{value:s},e.children)}}}]);